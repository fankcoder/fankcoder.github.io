<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" /> <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]--> <title>Git 常用命令</title> <meta name="description" content="库管理"> <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600|Droid+Sans+Mono' rel='stylesheet' type='text/css'> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="http://localhost:4000/%E5%A4%87%E5%BF%98/2014/09/15/general-git-resources.html"> <link rel="alternate" type="application/rss+xml" title="Fank" href="http://localhost:4000/feed.xml" /> <script src="/assets/js/prefixfree.js"></script> </head> <body> <aside id="sidebar"> <div id="sidebar-left"> <a id="sidebar-avatar" href="/"> <img id="sidebar-avatar-img" alt="" src="/assets/img/avatar.jpg"/> </a> <div id="sidebar-social"> <a href="/feed.xml" class="sidebar-social-icon feed"></a> <a href="mailto:fankcoder@gmail.com" class="sidebar-social-icon email"></a> <a href="https://github.com/https://github.com/fankcoder" class="sidebar-social-icon github" target="_blank"></a> </div> <ul id="sidebar-tags"> <li class="sidebar-tag active" data-filter="all">全部文章</li> <li class="sidebar-tag" data-filter="备忘">备忘</li> <li class="sidebar-tag" data-filter="工具">工具</li> <li class="sidebar-tag" data-filter="技术">技术</li> </ul> </div> <div id="sidebar-right"> <div id="search-box"> <input id="search-input" type="text" placeholder="Search" /> </div> <nav id="toc"> <a class="toc-link" data-tags="工具" href="/%E5%B7%A5%E5%85%B7/2019/03/08/vscode.html"> vscode配置手册 </a> <a class="toc-link" data-tags="工具" href="/%E5%B7%A5%E5%85%B7/2019/03/08/mac-tools.html"> mac使用手册 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2019/03/08/python-deep.html"> Python深入学习笔记 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2019/03/08/appspider-tools.html"> Ubuntu&OSX的app抓包方案 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2016/11/01/chmod.html"> chmod命令 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2016/03/10/screen-linux.html"> screen工具 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2016/03/08/todolist-django-python.html"> Todolist 应用 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2016/03/04/general-linux-resources.html"> Linux 常用资源 </a> <a class="toc-link" data-tags="工具" href="/%E5%B7%A5%E5%85%B7/2016/01/28/good-tools.html"> 神器收藏 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2016/01/27/general-django-resource.html"> Django命令备忘录 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2016/01/25/amazon-spider-python.html"> 爬虫防屏蔽 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2016/01/20/add-static-django-python.html"> Django添加静态文件 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2016/01/12/threading-python.html"> Python 多线程 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2016/01/11/encode-python.html"> Python转码问题 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/12/29/xrange-python.html"> Python的xrange和range </a> <a class="toc-link" data-tags="工具" href="/%E5%B7%A5%E5%85%B7/2015/11/10/vpn-tools.html"> 科学上网列表 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/10/26/email-shell-linux.html"> Shell每日发邮件 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/10/13/passwd-python.html"> Python密码处理 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/10/12/os-python.html"> Python标准库os </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/08/25/re-python.html"> Python正则 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/08/11/func-python.html"> Python内置函数(map、reduce、filter) </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/07/25/awk-linux.html"> AWK </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/07/24/blog-django-python.html"> Django练习项目之搭建博客 </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/05/22/xlrd-python.html"> 用xlrd\xlwt读写excel </a> <a class="toc-link" data-tags="技术" href="/%E6%8A%80%E6%9C%AF/2015/01/01/chromium-flash-linux.html"> chromium安装flash </a> <a class="toc-link" data-tags="工具" href="/%E5%B7%A5%E5%85%B7/2014/12/24/ubuntu-tools.html"> Ubuntu常用 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/09/15/general-git-resources.html"> Git 常用命令 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/05/11/general-mysql-resources.html"> MySQL常用资源 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/04/23/general-bootstrap-resources.html"> Bootstrap常用资源 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/01/15/general-svn-resources.html"> SVN 常用资源 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/01/15/general-shell-resources.html"> Shell 常用资源 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/01/15/general-python-resources.html"> Python 常用资源 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/01/15/general-jquery-resources.html"> jQuery 常用资源 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/01/15/general-javascript-resources.html"> JavaScript 常用资源 </a> <a class="toc-link" data-tags="备忘" href="/%E5%A4%87%E5%BF%98/2014/01/15/general-html-resources.html"> HTML 常用 </a> </nav> </div> </aside> <main id="main"> <article class="post container"> <div class="post-meta"> <span class="post-meta-span date">2014 September 15</span> <span class="post-meta-span tag">Git</span> </div> <h1 class="post-title">Git 常用命令</h1> <h2 id="库管理">库管理</h2> <h3 id="克隆库">克隆库</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/php/php-src.git
git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/php/php-src.git <span class="c"># 只抓取最近的一次 commit</span>
</code></pre></div></div> <h2 id="历史管理">历史管理</h2> <h3 id="查看历史">查看历史</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--pretty</span><span class="o">=</span>oneline filename <span class="c"># 一行显示</span>
git show xxxx <span class="c"># 查看某次修改</span>
</code></pre></div></div> <h3 id="标签功能">标签功能</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git tag <span class="c"># 显示所有标签</span>
git tag <span class="nt">-l</span> <span class="s1">'v1.4.2.*'</span> <span class="c"># 显示 1.4.2 开头标签</span>
git tag v1.3 <span class="c"># 简单打标签   </span>
git tag <span class="nt">-a</span> v1.2 9fceb02 <span class="c"># 后期加注标签</span>
git tag <span class="nt">-a</span> v1.4 <span class="nt">-m</span> <span class="s1">'my version 1.4'</span> <span class="c"># 增加标签并注释， -a 为 annotated 缩写</span>
git show v1.4 <span class="c"># 看某一标签详情</span>
git push origin v1.5 <span class="c"># 分享某个标签</span>
git push origin <span class="nt">--tags</span> <span class="c"># 分享所有标签</span>
</code></pre></div></div> <h3 id="回滚操作">回滚操作</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset 9fceb02 <span class="c"># 保留修改</span>
git reset 9fceb02 <span class="nt">--hard</span> <span class="c"># 删除之后的修改</span>
</code></pre></div></div> <h3 id="取消文件的修改">取消文件的修改</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">--</span> a.php <span class="c">#  取消单个文件</span>
git checkout <span class="nt">--</span> <span class="c"># 取消所有文件的修改</span>
</code></pre></div></div> <h3 id="删除文件">删除文件</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git <span class="nb">rm </span>a.php  <span class="c"># 直接删除文件</span>
git <span class="nb">rm</span> <span class="nt">--cached</span> a.php <span class="c"># 删除文件暂存状态</span>
</code></pre></div></div> <h3 id="移动文件">移动文件</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git <span class="nb">mv </span>a.php ./test/a.php
</code></pre></div></div> <h3 id="查看文件修改">查看文件修改</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff          <span class="c"># 查看未暂存的文件更新 </span>
git diff <span class="nt">--cached</span> <span class="c"># 查看已暂存文件的更新 </span>
</code></pre></div></div> <h3 id="暂存和恢复当前staging">暂存和恢复当前staging</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash <span class="c"># 暂存当前分支的修改</span>
git stash apply <span class="c"># 恢复最近一次暂存</span>
git stash list <span class="c"># 查看暂存内容</span>
git stash apply stash@<span class="o">{</span>2<span class="o">}</span> <span class="c"># 指定恢复某次暂存内容</span>
git stash drop stash@<span class="o">{</span>0<span class="o">}</span> <span class="c"># 删除某次暂存内容</span>
</code></pre></div></div> <h3 id="修改-commit-历史纪录">修改 commit 历史纪录</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git rebase <span class="nt">-i</span> 0580eab8
</code></pre></div></div> <h2 id="分支管理">分支管理</h2> <h3 id="创建分支">创建分支</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch develop <span class="c"># 只创建分支</span>
git checkout <span class="nt">-b</span> master develop <span class="c"># 创建并切换到 develop 分支</span>
</code></pre></div></div> <h3 id="合并分支">合并分支</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master <span class="c"># 切换到 master 分支</span>
git merge <span class="nt">--no-ff</span> develop <span class="c"># 把 develop 合并到 master 分支，no-ff 选项的作用是保留原分支记录</span>
git rebase develop <span class="c"># rebase 当前分支到 develop</span>
git branch <span class="nt">-d</span> develop <span class="c"># 删除 develop 分支</span>
</code></pre></div></div> <h3 id="克隆远程分支">克隆远程分支</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-r</span> <span class="c"># 显示所有分支，包含远程分支</span>
git checkout origin/android
</code></pre></div></div> <h3 id="修复develop上的合并错误">修复develop上的合并错误</h3> <ol> <li>将merge前的commit创建一个分之，保留merge后代码</li> <li>将develop <code class="highlighter-rouge">reset --force</code>到merge前，然后<code class="highlighter-rouge">push --force</code></li> <li>在分支中rebase develop</li> <li>将分支push到服务器上重新merge</li> </ol> <h3 id="强制更新到远程分支最新版本">强制更新到远程分支最新版本</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset <span class="nt">--hard</span> origin/master
git submodule update <span class="nt">--remote</span> <span class="nt">-f</span>
</code></pre></div></div> <h2 id="submodule使用">Submodule使用</h2> <h3 id="克隆带submodule的库">克隆带submodule的库</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">--recursive</span> https://github.com/chaconinc/MainProject
</code></pre></div></div> <h3 id="clone主库后再去clone-submodule">clone主库后再去clone submodule</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/chaconinc/MainProject
git submodule init
git submodule update
</code></pre></div></div> <h2 id="git设置">Git设置</h2> <p>Git的全局设置在<code class="highlighter-rouge">~/.gitconfig</code>中，单独设置在<code class="highlighter-rouge">project/.git/config</code>下。</p> <p>忽略设置全局在<code class="highlighter-rouge">~/.gitignore_global</code>中，单独设置在<code class="highlighter-rouge">project/.gitignore</code>下。</p> <h3 id="设置-commit-的用户和邮箱">设置 commit 的用户和邮箱</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config user.name <span class="s2">"xx"</span>
git config user.email <span class="s2">"xx@xx.com"</span>
</code></pre></div></div> <p>或者直接修改config文件</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>user]
    name <span class="o">=</span> xxx
    email <span class="o">=</span> xxx@xxx.com
</code></pre></div></div> <h3 id="查看设置项">查看设置项</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--list</span>
</code></pre></div></div> <h3 id="设置git终端颜色">设置git终端颜色</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> color.diff auto
git config <span class="nt">--global</span> color.status auto
git config <span class="nt">--global</span> color.branch auto
</code></pre></div></div> </article> <div class="post-share"> <div class="container"> <a href="https://twitter.com/share?url=http://localhost:4000/%E5%A4%87%E5%BF%98/2014/09/15/general-git-resources.html&text=Git 常用命令" target="_blank" class="post-share-icon twitter"></a> <a href="https://www.evernote.com/clip.action?url=http://localhost:4000/%E5%A4%87%E5%BF%98/2014/09/15/general-git-resources.html&title=Git 常用命令" target="_blank" class="post-share-icon evernote"></a> <a href="http://service.weibo.com/share/share.php?url=http://localhost:4000/%E5%A4%87%E5%BF%98/2014/09/15/general-git-resources.html&title=Git 常用命令" target="_blank" class="post-share-icon weibo"></a> </div> </div> <div class="footer"> <div class="container"> <p class="footer-entry">All content is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA</a></p> <p class="footer-entry">Buit with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll theme</a> • Hosted on <a href="https://pages.github.com/" target="_blank">Github</a></p> </div> </div> </main> <button id="menu"> <span id="menu-icons"></span> </button> <script src="/assets/js/jquery-2.1.3.min.js"></script> <script src="/assets/js/jquery.pjax.js"></script> <script src="/assets/js/nprogress.js"></script> <script src="/assets/js/main.js"></script> </body> </html>
